<div id="table-container" class="container d-flex flex-column align-items-center justify-content-center">
  <button mat-raised-button color="accent" class="align-self-start  mt-5 mb-4" (click)="openCreationDialog()">محصول جدید +</button>
  <!-- Production edit form
  <form [formGroup]="productionForm" class="mb-5" (ngSubmit)="updateProduction()"
        [@openClose]="showEditForm ? 'open' : 'closed'">
    <div class="form-group row">
      <label for="edit-title" class="col-sm-3 col-form-label ">نام :</label>
      <div class="col-sm-9">
         setting input as relative for errors to show infront of them
        <input id="edit-title" formControlName="title" type="text" class="form-control position-relative">
        <div *ngIf="formTitle.invalid && (formTitle.touched || formTitle.dirty)"
             class="alert alert-danger validation-error">
          <div *ngIf="formTitle.errors?.['required']" class="validation-error-text">
            فیلد نام اشتباه است
          </div>
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label for="edit-strategic-resource" class="col-form-label col-sm-4 ml-0 pl-0">منبع استراتجیک:</label>
      <div class="col-sm-8">
        <input id="edit-strategic-resource" type="number" formControlName="strategicResource" class="form-control">
        <div *ngIf="formstrategicResource.invalid && (formstrategicResource.touched || formstrategicResource.dirty)"
             class="validation-error alert alert-danger strategic-error">
          <div *ngIf="formstrategicResource.errors?.['required']" class="validation-error-text">
            منبع استراتجیک اشتباه است
          </div>
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label for="edit-code" class="col-sm-3 col-form-label">کد :</label>
      <div class="col-sm-9">
        <input id="edit-code" type="text" formControlName="code" class="form-control">
        <div *ngIf="formcode.invalid && (formcode.touched || formcode.dirty)"
             class="alert alert-danger validation-error">
          <div *ngIf="formcode.errors?.['required']" class="validation-error-text">
            فیلد کد اشتباه است
          </div>
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label for="edit-warehouse-id" class="col-sm-3 col-form-label">کد انبار :</label>
      <div class="col-sm-9">
        <input id="edit-warehouse-id" type="number" formControlName="warehouseId" class="form-control">
        <div *ngIf="formWarehouseId.invalid && (formWarehouseId.touched || formWarehouseId.dirty)"
             class="alert alert-danger validation-error">
          <div *ngIf="formWarehouseId.errors?.['required']" class="validation-error-text">
            کد انبار اشتباه است
          </div>
        </div>
      </div>
    </div>

     to avoid overlapping create and edit buttons
    <div *ngIf="showEditForm">
      <button class="btn btn-primary pr-4 pl-4" type="submit">تایید</button>
    </div>
  </form>
-->
  <table mat-table [dataSource]="productions" class="production-table">

    <!-- id column -->
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>کد اختصاصی</th>
      <td mat-cell *matCellDef="let production">{{production.id}}</td>
    </ng-container>

    <!-- title column -->
    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef>نام</th>
      <td mat-cell *matCellDef="let production">{{production.title}}</td>
    </ng-container>

    <!-- strategic Resource column -->
    <ng-container matColumnDef="strategicResource">
      <th mat-header-cell *matHeaderCellDef>منبع استراتجیک</th>
      <td mat-cell *matCellDef="let production">{{production.strategicResource}}</td>
    </ng-container>

    <!-- code column -->
    <ng-container matColumnDef="code">
      <th mat-header-cell *matHeaderCellDef>کد</th>
      <td mat-cell *matCellDef="let production">{{production.code}}</td>
    </ng-container>

    <!-- Warehouse Id column -->
    <ng-container matColumnDef="warehouseId">
      <th mat-header-cell *matHeaderCellDef>کد انبار</th>
      <td mat-cell *matCellDef="let production">{{production.warehouseId}}</td>
    </ng-container>

    <!-- Edit button column -->
    <ng-container matColumnDef="edit">
      <th mat-header-cell *matHeaderCellDef>ویرایش</th>
      <td mat-cell *matCellDef="let production">
        <button mat-raised-button color="accent" (click)="openEditionDialog(production.id)">ویرایش</button>
      </td>
    </ng-container>

    <!-- Delete button column -->
    <ng-container matColumnDef="delete">
      <th mat-header-cell *matHeaderCellDef>حذف</th>
      <td mat-cell *matCellDef="let production">
        <button mat-raised-button color="warn" (click)="openDeleteDialog(production.id)">حذف</button>
      </td>
    </ng-container>

    <!-- Rows -->
    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
  </table>
</div>
